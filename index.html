<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>CRC Calculator</title>
</head>

<body>
	<h1>CRC Calculator</h1>
	<form id="uploadForm" enctype="multipart/form-data">
		<input type="file" id="fileInput" name="files" accept=".bin,.hex" multiple>
		<button type="button" onclick="uploadFile()">Upload</button>
	</form>
	<p id="result"></p>
	<script>
		function uploadFile() {
			const formData = new FormData();
			const fileInput = document.getElementById('fileInput');
			const files = fileInput.files;

			for (let i = 0; i < files.length; i++) {
				formData.append('files', files[i]);
			}

			fetch('/upload', {
				method: 'POST',
				body: formData
			})
				.then(response => response.json())
				.then(data => {
					let resultText = 'CRC Values:\n';
					for (const file in data.crc_values) {
						const crcValue = data.crc_values[file];
						resultText += `${file} - Decimal: ${crcValue.decimal}, Hex: ${crcValue.hex}\n`;
					}
					document.getElementById('result').innerText = resultText;
				})
				.catch(error => {
					console.error('Error:', error);
				});
		}
	</script>
</body>

</html>